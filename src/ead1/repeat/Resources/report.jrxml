<!-- Created with Jaspersoft Studio version 7.0.3.final using JasperReports Library version 7.0.3-41034ca841d452f3305ba55b9042260aaa1ab5dd  -->
<jasperReport name="Blank_A4" language="java" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="4e563ce8-dbe4-45e6-acc1-e1fef8351159">
	<property name="com.jaspersoft.studio.data.sql.tables" value="b3JkZXJzICwxMTMsMTUsZTUxMjY5NmItNmU5MS00NTMzLWFiY2MtNTNmOTFhNmU3NzA5O21lbnVz&#xa;ICwxNSwxNSwyMDY5MzJiNy1jNTNlLTQwMWYtYWU5Mi01OWYwZGZkNjk2NjM7b3JkZXJfaXRlbXMg&#xa;LDIwNiwxNSwyOGRlM2I4Mi0zNjRkLTRkYTItOWQ5OS0wYjdhOWE5ZTc4Yjk7"/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="New Data Adapter"/>
	<query language="SQL"><![CDATA[SELECT 
    DATE_FORMAT(o.order_date, '%Y-%m') AS month_year,
    m.name AS menu_item_name,
    SUM(oi.subtotal_price) AS item_sales
FROM orders o
JOIN order_items oi ON o.order_id = oi.order_id
JOIN menus m ON oi.menu_id = m.menu_id
GROUP BY 
    month_year,
    menu_item_name
ORDER BY 
    month_year ASC,
    item_sales DESC]]></query>
	<field name="month_year" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="month_year"/>
		<property name="com.jaspersoft.studio.field.label" value="month_year"/>
	</field>
	<field name="menu_item_name" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="name"/>
		<property name="com.jaspersoft.studio.field.label" value="menu_item_name"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="menus"/>
	</field>
	<field name="item_sales" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="item_sales"/>
		<property name="com.jaspersoft.studio.field.label" value="item_sales"/>
	</field>
	<variable name="Monthly_Sales_Total" resetType="Group" calculation="Sum" resetGroup="month_year" class="java.math.BigDecimal">
		<expression><![CDATA[$F{item_sales}]]></expression>
	</variable>
	<group name="month_year" minHeightToStartNewPage="50" minDetailsToStartFromTop="3">
		<expression><![CDATA[$F{month_year}]]></expression>
		<groupHeader>
			<band height="40">
				<element kind="textField" uuid="4e6154a1-fb6e-4fc1-a8ec-c834e5f5a59d" mode="Opaque" x="70" y="4" width="140" height="30" forecolor="#D79182" backcolor="#646464" fontName="Segoe UI" fontSize="14.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
					<expression><![CDATA[$F{month_year}]]></expression>
					<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
				</element>
				<element kind="line" uuid="4d418435-c2d3-4e08-b034-b8ffa8f80981" x="70" y="4" width="140" height="1"/>
				<element kind="line" uuid="79729c12-9340-4170-bfba-130b0e83bcbd" x="70" y="34" width="140" height="1"/>
				<element kind="line" uuid="1fcc7143-dda3-4270-8ed5-f932f23f1c82" x="69" y="4" width="1" height="31"/>
				<element kind="line" uuid="e88da5f2-e56b-4193-9412-88ff940f8323" x="210" y="4" width="1" height="31"/>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="37">
				<element kind="textField" uuid="ca8f7bff-3764-40b9-a8a8-a81f1fd580e1" x="430" y="4" width="100" height="30" fontName="Segoe UI" fontSize="14.0" hTextAlign="Left" vTextAlign="Middle">
					<expression><![CDATA[$V{Monthly_Sales_Total}]]></expression>
				</element>
				<element kind="staticText" uuid="adae963e-71a4-4a15-9ed7-c01a7c5edd22" x="310" y="4" width="110" height="30" fontName="Segoe UI" fontSize="14.0" hTextAlign="Right" vTextAlign="Middle">
					<text><![CDATA[Total Sales: Rs.]]></text>
				</element>
				<property name="com.jaspersoft.studio.unit.height" value="px"/>
			</band>
		</groupFooter>
	</group>
	<background splitType="Stretch"/>
	<title height="50" splitType="Stretch">
		<element kind="staticText" uuid="4356aa4c-f547-4fff-8e1e-6488f16cf2aa" mode="Opaque" x="91" y="0" width="378" height="50" forecolor="#D79182" backcolor="#000000" fontName="Segoe UI" fontSize="22.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
			<text><![CDATA[Detailed Menu Item Sales Report]]></text>
		</element>
	</title>
	<pageHeader height="46" splitType="Stretch"/>
	<columnHeader height="49" splitType="Stretch">
		<element kind="staticText" uuid="58100e83-2227-4f06-9dd6-c623d3728c15" x="0" y="4" width="278" height="30" fontName="Segoe UI" fontSize="16.0" bold="true" vTextAlign="Middle">
			<text><![CDATA[Menu Item Names]]></text>
			<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="892ea3e2-76c8-46d9-89c2-0bb36069c61e"/>
		</element>
		<element kind="staticText" uuid="0b9e501f-3909-4c92-b6ee-90470666db08" x="290" y="4" width="265" height="30" fontName="Segoe UI" fontSize="16.0" bold="true" vTextAlign="Middle">
			<text><![CDATA[Item Sales(Rs.)]]></text>
			<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="5b402816-fbaf-4ca2-99e8-1c0789fb3c9f"/>
		</element>
		<element kind="line" uuid="910fd06a-79bb-4915-b63a-9236ab6b8594" x="-3" y="0" width="560" height="1"/>
		<element kind="line" uuid="07f650f3-9897-4549-a3c5-c9dea850fadf" x="-2" y="40" width="560" height="1"/>
		<element kind="line" uuid="66a0370b-0b5a-4ed1-aac9-2208a6f82548" x="557" y="0" width="1" height="41"/>
		<element kind="line" uuid="88ef826e-7dc8-43d1-9ebf-fd8c949425ec" x="-3" y="1" width="1" height="40"/>
		<element kind="line" uuid="ffdc8f89-5ec4-40ab-af30-e6bcf647482c" x="280" y="1" width="1" height="40"/>
	</columnHeader>
	<detail>
		<band height="41" splitType="Stretch">
			<element kind="textField" uuid="2ab87ecc-79fd-4403-be44-ef3d6b972251" x="0" y="3" width="278" height="30" fontName="Segoe UI" fontSize="12.0" vTextAlign="Middle">
				<expression><![CDATA[$F{menu_item_name}]]></expression>
				<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="892ea3e2-76c8-46d9-89c2-0bb36069c61e"/>
			</element>
			<element kind="textField" uuid="8be10f0f-c638-430b-a02d-48527f94ff66" x="293" y="3" width="265" height="30" fontName="Segoe UI" fontSize="12.0" vTextAlign="Middle">
				<expression><![CDATA[$F{item_sales}]]></expression>
				<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="5b402816-fbaf-4ca2-99e8-1c0789fb3c9f"/>
			</element>
			<element kind="line" uuid="ee8e1885-40df-4c76-b3e5-26653b1c3dd3" x="-3" y="37" width="561" height="1"/>
			<element kind="line" uuid="19f0a1bd-ec4b-4d41-bab0-28c4f8c56b05" x="-3" y="0" width="561" height="1"/>
			<element kind="line" uuid="105ceb03-f877-4992-8f83-59cde84418ec" x="-3" y="0" width="1" height="37"/>
			<element kind="line" uuid="a2c70362-f1dc-4fcf-841c-c7e929e7667a" x="557" y="0" width="1" height="37"/>
			<element kind="line" uuid="116c6628-fc06-4a6f-95c2-5dc51390fdc4" x="280" y="0" width="1" height="38"/>
		</band>
	</detail>
	<columnFooter height="4" splitType="Stretch"/>
	<pageFooter height="48" splitType="Stretch">
		<element kind="textField" uuid="78c3a9b3-2a07-4e98-ba0e-e49bfc7ae2e3" x="437" y="10" width="107" height="30" fontName="Segoe UI" fontSize="12.0" hTextAlign="Right" vTextAlign="Middle">
			<expression><![CDATA[$V{PAGE_NUMBER}]]></expression>
		</element>
	</pageFooter>
	<summary height="8" splitType="Stretch"/>
</jasperReport>
